metrics:
  - name: bigquery_404_errors
    metric_type: custom.googleapis.com/bq_404_errors
    query: |
      SELECT COUNT(*) AS value
      FROM `ajith-8006.error_simulator.error_logs`
      WHERE http_status = '404'
      AND event_time >= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 15 MINUTE)

  - name: bigquery_403_errors
    metric_type: custom.googleapis.com/bq_403_errors
    query: |
      SELECT COUNT(*) AS value
      FROM `ajith-8006.error_simulator.error_logs`
      WHERE http_status = '403'
      AND event_time >= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 15 MINUTE)

  - name: bigquery_500_errors
    metric_type: custom.googleapis.com/bq_500_errors
    query: |
      SELECT COUNT(*) AS value
      FROM `ajith-8006.error_simulator.error_logs`
      WHERE http_status = '500'
      AND event_time >= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 15 MINUTE)
